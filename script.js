document.addEventListener("DOMContentLoaded",(()=>{let e=document.getElementById("network-bg"),t=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;let n=[];for(let t=0;t<50;t++)n.push({x:Math.random()*e.width,y:Math.random()*e.height,vx:.5*(Math.random()-.5),vy:.5*(Math.random()-.5),radius:2*Math.random()+1});setInterval((function(){t.fillStyle="rgba(5, 5, 16, 0.05)",t.fillRect(0,0,e.width,e.height),n.forEach((n=>{n.x+=n.vx,n.y+=n.vy,(n.x<0||n.x>e.width)&&(n.vx*=-1),(n.y<0||n.y>e.height)&&(n.vy*=-1),t.beginPath(),t.arc(n.x,n.y,n.radius,0,2*Math.PI),t.fillStyle="rgba(0, 170, 51, 0.6)",t.fill()})),t.strokeStyle="rgba(0, 170, 51, 0.2)",t.lineWidth=.5;for(let e=0;e<n.length;e++)for(let i=e+1;i<n.length;i++){let r=n[e].x-n[i].x,a=n[e].y-n[i].y,l=Math.sqrt(r*r+a*a);if(l<200){let r=1-l/200;t.strokeStyle=`rgba(0, 170, 51, ${.3*r})`,t.beginPath(),t.moveTo(n[e].x,n[e].y),t.lineTo(n[i].x,n[i].y),t.stroke()}}}),30);let i=document.querySelectorAll(".section"),r=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("visible"),Math.random()>.7&&(e.target.classList.add("glitch"),setTimeout((()=>{e.target.classList.remove("glitch")}),500)))}))}),{threshold:.12,rootMargin:"0px 0px -80px 0px"});i.forEach((e=>r.observe(e))),document.querySelectorAll('a[href^="#"]').forEach((e=>e.addEventListener("click",(function(e){let t=this.getAttribute("href");if("#"===t)return;let n=document.querySelector(t);n&&(e.preventDefault(),window.scrollTo({top:n.offsetTop-80,behavior:"smooth"}))})))),document.getElementById("scroll-down").addEventListener("click",(()=>{let e=document.getElementById("about");window.scrollTo({top:e.offsetTop-80,behavior:"smooth"})}));let a=1,l=[],s=document.getElementById("projects-container"),o=document.getElementById("load-more");async function d(){try{1===a&&(s.innerHTML='<div class="text-center py-12 col-span-3"><div class="loading-spinner mb-4" aria-hidden></div><p>Loading projects from GitHub...</p></div>');let e=await fetch(`https://api.github.com/users/DexterTheDev/repos?sort=updated&type=sources&per_page=11&page=${a}`);if(!e.ok){let t=await e.json().catch((()=>({message:"Unknown error"})));throw Error(t.message||"GitHub API error")}let t=await e.json();l=1===a?t:[...l,...t],1===a&&(s.innerHTML=""),function(e){e.forEach((e=>{if(["register", "dexterthedev", "dexter"].includes(e.name.toLowerCase()))return;let t=document.createElement("div");t.className="project-card p-6 h-full flex flex-col",t.innerHTML=`\n                        <div class="flex justify-between items-start mb-4">\n                            <h3 class="text-xl font-semibold">${c(e.name)}</h3>\n                        </div>\n                        <p class="text-slate-400 mb-4 flex-grow">${c(e.description||"No description available")}</p>\n                        <div class="flex justify-between items-center mt-auto">\n                            <div class="flex items-center gap-3">\n                                <a href="${e.html_url}" target="_blank" class="text-slate-400 z-50 hover:text-white transition-colors"><i class="fab fa-github"></i></a>\n                                ${e.homepage?`<a href="${e.homepage}" target="_blank" class="text-slate-400 hover:text-white transition-colors"><i class="fas fa-external-link-alt"></i></a>`:""}\n                            </div>\n                        </div>`,s.appendChild(t)}))}(t),11===t.length?o.classList.remove("hidden"):o.classList.add("hidden")}catch(e){console.error("GitHub fetch error:",e),s.innerHTML='\n                        <div class="col-span-3 text-center py-10">\n                            <i class="fas fa-exclamation-triangle text-4xl mb-4 text-yellow-500"></i>\n                            <p>Unable to load projects from GitHub at this time.</p>\n                            <p class="text-slate-400 mt-2">You may be rate-limited by GitHub\'s API or offline. Visit the profile directly.</p>\n                            <a href="https://github.com/DexterTheDev" target="_blank" class="btn-primary mt-4 inline-block">Visit GitHub Profile</a>\n                        </div>'}}function c(e){return e?String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}o.addEventListener("click",(()=>{a++,d()})),d(),window.addEventListener("resize",(()=>{e.width=window.innerWidth,e.height=window.innerHeight}))})),document.addEventListener("DOMContentLoaded",(()=>{let e,t=["./imgs/reportraiser-1.png","./imgs/reportraiser-2.png","./imgs/reportraiser-3.png","./imgs/reportraiser-4.png","./imgs/reportraiser-5.png"],n=document.getElementById("project-slider"),i=n.querySelector(".slider-track"),r=document.getElementById("slider-prev"),a=document.getElementById("slider-next"),l=document.getElementById("slider-dots"),s=0;function o(){i.style.transform=`translateX(-${100*s}%)`,l.querySelectorAll(".slider-dot").forEach(((e,t)=>{t===s?(e.classList.add("active","bg-white"),e.classList.remove("bg-white/50")):(e.classList.remove("active","bg-white"),e.classList.add("bg-white/50"))})),r.disabled=0===s,a.disabled=s===t.length-1,r.style.opacity=0===s?"0.5":"1",a.style.opacity=s===t.length-1?"0.5":"1"}function d(){s=(s+1)%t.length,o()}function c(){clearInterval(e),e=setInterval(d,5e3)}a.addEventListener("click",(()=>{d(),c()})),r.addEventListener("click",(()=>{s=(s-1+t.length)%t.length,o(),c()})),l.addEventListener("click",(e=>{if(e.target.matches(".slider-dot")){(function(e){s=e,o()})(parseInt(e.target.dataset.index,10)),c()}})),n.addEventListener("mouseenter",(function(){clearInterval(e)})),n.addEventListener("mouseleave",c),i.innerHTML="",l.innerHTML="",t.forEach(((e,t)=>{let n=document.createElement("img");n.src=e,n.alt=`Report Raiser Screenshot ${t+1}`,n.className="slider-slide w-full h-64 object-cover",n.onerror=()=>{n.src=`https://placehold.co/600x400/1e293b/94a3b8?text=Image+${t+1}+Missing`,n.alt=`Image ${t+1} Missing`},i.appendChild(n);let r=document.createElement("button");r.className="slider-dot w-2 h-2 bg-white/50 rounded-full focus:outline-none",r.dataset.index=t,l.appendChild(r)})),o(),c()}));
